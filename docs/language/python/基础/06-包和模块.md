# 包和模块

## 一、包

多个模块

## 二、模块

本质就是一个.py文件，封装语句的最小单位。使用模块可以提高开发效率，便于维护和管理。

### 1. 内置模块

### 2. 第三方模块、扩展模块

### 3.自定义模块

自定义模块其中可以包含变量定义、可执行语句、函数定义等，它们统称为模块的成员。

#### 1. 模块的运行方式

- 脚本方式 直接用解释器执行
- 模块方式 被其他的模块导入执行，为导入它的模块提供资源（变量、函数定义、类定义等）。

自定义模块被其他模块导入时，其中的可执行语句会立即执行。

#### 2. `__name__`属性

python中提供了一种可以判断自定义模块是属于开发阶段还是使用阶段。

脚本方式 运行时，`__name__` 是固定的字符串·`__main__`，

导入的方式运行时，就是本模块的名字。

#### 3. 系统导入模块的路径

1. 内存中 ：如果之前成功导入过某个模块，直接使用以及存在的模块
2. 内置路径`$PYTHON_PATH/Lib`
3. `sys.path`:一个路径列表

```python
>>> import sys
>>> sys.path
['', '/usr/lib/python36.zip', '/usr/lib/python3.6', '/usr/lib/python3.6/lib-dynload', '/usr/local/lib/python3.6/dist-packages', '/usr/lib/python3/dist-packages']
```

````python
import sys
import os
print(__file__)  #打印相对路径
base_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.append(base_dir)
````

#### 4. 导入模块的方式

1. `import xxx`:导入一个模块的所有成员
2. `import aaa,bbb`:一次性导入多个模块，不推荐这种写法
3. `from xxx import zzz`:从某个模块中导入多个成员
4. `from xxx import *`:导入一个模块的所有成员

**`import xxx`与`from xxx import *`的区别**:

`import xxx`在使用成员时，必须使用模块名作为前缀；`from xxx import *`直接使用成员名即可，但是容易产生命名冲突。

解决名称冲突的问题

1. 改用`import xxx`
2. 使用别名解决冲突

**使用别名**`alias`

- 给成员取别名，避免名称冲突`from xxx import zzz as y` 
- 给模块取别名，简化熟悉`import xxx as y`

#### 5. 使用`__all__`控制被导入的成员

`from xxx import *`控制成员被导入，`__all__`是一个列表，用于表示本模块可以被外界使用的成员，元素是成员的字符串。

```python
# 只有使用`from xxx import *`导入才有效
__all__ = ["成员1", "成员2"]
```

#### 6. 相对导入

针对项目中不同模块直接进行导入

`from 相对路径 import zzz`

相对路径

- `- .`:当前路径

- `..`表示父路径

导入模块时执行的三件事

1. 在内存中创建以模块名称命名的名称空间
2. 执行此名称空间所有的可执行代码
3. 通过`模块.`的方式调用此模块中的内容
