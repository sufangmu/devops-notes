# 整数与字符串

## 一、数值

### 1. 数值类型

python数值类型

1. 整数
2. 浮点数
3. 复数
4. 小数
5. 分数
6. 集合
7. 布尔值 `True` 和`False`
8. 内置函数和模块：round、math、random

### 2. 数值运算

```python
>>> print(2+3)  # 加法
5
>>> print(8-3)  # 减法法
5
>>> print(2*3)  # 乘法法
6
>>> print(5/3)  # 真除法
1.6666666666666667
>>> print(5//3)  # 向下取整除法，截除掉余数
1
>>> print(5**2)  # 平方
25
>>> print(5%2)  # 取余
1
```

### 3. 进制

3.1 进制表示

```python
>>> 0b11111111  # 二进制
255
>>> 0o377       # 八进制
255
>>> 0xFF        # 十六进制
255

```

3.2 进制转换

```python
>>> bin(255)    # 十进制转二进制
'0b11111111'
>>> oct(255)    # 十进制转八进制
'0o377'
>>> hex(255)    # 十进制转十六进制
'0xff'
```

### 4. 小数

```python
# 在Windows平台Python 3.6.8中计算的结果，浮点数的结果并不精确
>>> print(0.1+0.1+0.1-0,3)
0.30000000000000004 3
```

如果要精确计算小数，需要使用小数对象

```python
>>> from decimal import Decimal
>>> print(Decimal('0.1') + Decimal('0.1') + Decimal('0.1') - Decimal('0.3'))
0.0
# 注意*:要在小数上加引号，否则输出的结果是下面的值
# >>> print(Decimal(0.1) + Decimal(0.1) + Decimal(0.1) - Decimal(0.3))
# 2.775557561565156540423631668E-17
```

### 5. 分数

```python
>>> from fractions import Fraction
>>> x = Fraction(6,8)
>>> print(x)
3/4
```

### 6. 整数浮点数装换

```python
>>> int(3.14)
3
>>> float(3)
3.0
```

## 二、Python字符串

字符串就是一系列字符，在Python中，用引号括起来的都是字符串，引号可以是单引号('string')也可以是双引号("string")

## 1. 字符串的特点

1. 字符串是单个字符的字符串序列，是有序的
2. 不可变性，不可以对原始的字符串进行改变。

## 2. 字符串操作

### 2.1 索引

字符串的第一个字符下标为0。

```python
string = "Life is short, You need Python"
```

- 正索引

```python
In [1]: string = "Life is short, You need Python"
In [2]: string[2]
Out[2]: 'f'
```

- 负索引

```python
In [1]: string = "Life is short, You need Python"

In [2]: string[-6]
Out[2]: 'P'
```

### 2.2 切片

切片的格式: `string[start,end]`

```python
In [1]: string = "Life is short, You need Python"
# 范围是[5,7)不包含索引为7的字符
In [2]: string[5:7]
Out[3]: 'is'
```

当第一个索引值缺省时，从0开始。

```python
In [1]: string = "Life is short, You need Python"

In [6]: string[:7]
Out[6]: 'Life is'
```

### 2.3 拼接

```python
>>> s1 = 'hello '
>>> s2 = 'world'
>>> s1 + s2
'hello world'
```

### 2.4 长度

```python
>>> len('hello')
5
```

## 3. 字符串方法

### 3.1 字符串大小写转换

```python
>>> # 字符串首字符大写
... print("hello world".capitalize())
Hello worldprint("hello WORLD".swapcase())
>>> # 将字符串变为标题
... print("hello WORLD".title())
Hello World
>>> # 将字符串转为大写
... print("hello world".upper())
HELLO WORLD
>>> # 把字符串转为小写
... print("HELLO WORLD".lower())
hello world
>>> # 翻转字符串中的大小写
... print("hello WORLD".swapcase())
HELLO world
```

### 3.2 字符串分割

```python
>>> # 以某个元素为分割点，将字符串分为3部分,从左往右找到的第一个元素为分割点
... print('helloworld'.partition('o'))
('hell', 'o', 'world')
>>> # 以某个元素为分割点，将字符串分为3部分，从右往左找到的第一个元素为分割点
... print('helloworld'.rpartition('o'))
('hellow', 'o', 'rld')
>>> # 替换原字符串中的元素,默认全部替换，可以指定替换几个（从左往右数）
... print("hello world".replace('o', 'a', 1))
hella world
>>> # 以某个元素为分割点，将字符串分割,从左往右分割n次
... print("hello world".split('o', 1))
['hell', ' world']
>>> # 以某个元素为分割点，将字符串分割,从右往左分割n次
... print("hello world".rsplit('o', 1))
['hello w', 'rld']
>>> # 按照行('\r', '\r\n', \n')分隔，返回一个包含各行作为元素的列表，如果参数 keepends 为 False，不包含换行符，如果为 True，则保留换行符。
... print('hello\nworld'.splitlines(True))
['hello\n', 'world']
```

### 3.3 字符串查找

```python
>>> # 统计某个字符串从索引n到y出现的次数，缺省为在整个字符串中查找
... print("hello world".count('o', 7, 10))
>>> # 在索引[n , y)之间查找元素，缺省为[:]返回元素的索引，如果没找到返回-1
... print("hello world".find('e'))
>>> print("hello world".find('o', 0, 2))
-1
>>> # 在[n, y)之间找元素的索引值，没找到会报错
... print("hello world".index('o'))
>>> print("hello world".index('e', 0, 5))
```

### 3.4 字符串判断

```python
>>> # 判断字符串是否以某个元素开始
... print('helloworld'.startswith('h'))
True
>>> # 判断字符串的的从[n，y)的索引之间是否以某个字符结尾,返回值为布尔值
... print("hello world".endswith('e', 0, 2))
True
>>> # 判断是否是只有数字或字母
... print('abc123'.isalnum())
True
>>> # 判断是否只含有字母
... print('abc'.isalpha())
True
>>> # 判断字母是否都是小写
... print("Hello".islower())
False
>>> # 判断字符是不是空格
... print(" ".isspace())
True
>>> # 判断是不是字符串是不是标题(单词首字母是不是大写)
... print("Hello World".istitle())
True
```

### 3.5 字符串格式化

```python
>>> # 字符串居中，规定字符串的总长度，不够用其他字符补齐，默认是空格
... print("hello world".center(20, "#"))
####hello world#####
>>> # 把字符串中的\t替换为n个空格
... print("hello\tworld".expandtabs(tabsize=20))
hello               world
>>> print('#'.join("hello world"))
h#e#l#l#o# #w#o#r#l#d
>>> # 规定输出字符的长度，并且左对齐,不足部分用指定字符补齐
... print("hello world".ljust(20, "#"))
hello world#########
>>> # 规定输出字符的长度，并且右对齐,不足部分用指定字符补齐
... print("hello world".rjust(20, "#"))
#########hello world
>>> # 去除字符串左边的的空格
... print(' hello'.lstrip())
hello
>>> # 去除字符串右边的的空格
... print('hello '.rstrip())
hello
>>> # 去除字符串两边的的空格
... print(' hello '.strip())
hello
>>> # 指定字符串的长度，不够在前面补0
... print("123".zfill(5))
>>> # 字符串的拼接
... print('hello ' + 'world')
hello world
>>> # 字符串重复
... print('hello ' * 3)
hello hello hello
```

### 3.6 字符串的赋值

```python
>>> s = 'hello world'   # 单引号
>>> print(s)
hello world
>>> s = "hello world"   # 双引号
>>> print(s)
hello world
>>> s = """hello    # 三引号
... world
... !!!"""
>>> print(s)
hello
world
!!!
>>> s = 'hello\tworld' # 转义序列
>>> print(s)
hello   world
>>> s = r'hello\tworld'  # 原始字符串，不进行转义
>>> print(s)
hello\tworld
```

### 3.7 字符串转换

```python
>>> x = 123
>>> x = str(x) # 把一串字符转为字符串
>>> print(x)
123
>>> print(type(x))
<class 'str'>
>>> print(chr(65))  # ASCII值转字符
A
>>> print(ord('B')) # 字符转ASCII值
66
```

## 4. 字符串格式化

### 4.1 格式化表达式

基于C语言的`printf`模型

```python
>>> name = "Kobe"
>>> print('%s is %d years old.' % (name, 41))
Kobe is 41 years old.
```

结构

```python
%[(keyname)][flags][width][.precision]typecode
```

keyname: 字典键的名称

flags: 左对齐(-)、数值符号(+)、正数前的空白以及负数前的-（空格）和零填充

width:最小字段宽度

precision:小数点后的位数（精度）

```python
# 基于字典的格式化表达式
>>> print('%(name)s is %(age)d years old.' % {'name':'Kobe', 'age':41})
Kobe is 41 years old.
```

### 4.2 格式化方法调用

起源于C#/.NET

1 通过相对位置替换目标

```python
>>> print('{} is {} years old.'.format('Kobe',41))
Kobe is 41 years old.
```

2 通过位置替换目标

```python
>>> print('{0} is {1} years old.'.format('Kobe',41))
Kobe is 41 years old.
>>> print('{1} is {0} years old.'.format(41, 'Kobe'))
Kobe is 41 years old.
```

3 通过关键字替换目标

```python
>>> print('{name} is {age} years old.'.format(name='Kobe',age=41))
Kobe is 41 years old.
```

结构

```txt
{[fieldname]:[align][sign][0][width][,][.precision][typecode]}


\[fieldname\]: 辨识参数的一个可选的数字或关键字，可以将其省略以使用对应参数编号
\[align\]:左对齐(<)、右对齐(>)、符号字符后的填充(=)、居中对齐(^)
\[sign\]: + 、-或空格
\[,\]:千位分隔符
\[0\]:用零填充空位

```
