## 1. 进程

```bash
ubuntu@ubuntu:~$ ps -u postgres -o user,pid,ppid,cmd --forest
USER        PID   PPID CMD
postgres  29798      1 /opt/software/postgresql/12.13/bin/postgres -D /opt/software/postgresql/12.13/data
postgres  29800  29798  \_ postgres: checkpointer   
postgres  29801  29798  \_ postgres: background writer   
postgres  29802  29798  \_ postgres: walwriter   
postgres  29803  29798  \_ postgres: autovacuum launcher   
postgres  29804  29798  \_ postgres: stats collector   
postgres  29805  29798  \_ postgres: logical replication launcher
```

## 2. 安装目录结构

```bash
ubuntu@ubuntu:~$ tree $PGHOME -L 1
/opt/software/postgresql/12.13
├── bin
├── data
├── include
├── lib
└── share
```

1. bin：二进制可执行文件
2. include：头文件目录
3. lib：动态库目录
4. share：文档和配置模板文件

## 3. 数据目录结构

```bash
PG_VERSION	一个包含PostgreSQL主版本号的文件
base	包含每个数据库对应的子目录的子目录
current_logfiles	记录当前被日志收集器写入的日志文件的文件
global	包含集簇范围的表的子目录，比如pg_database
pg_commit_ts	包含事务提交时间戳数据的子目录
pg_dynshmem	包含被动态共享内存子系统所使用的文件的子目录
pg_logical	包含用于逻辑复制的状态数据的子目录
pg_multixact	包含多事务（multi-transaction）状态数据的子目录（用于共享的行锁）
pg_notify	包含LISTEN/NOTIFY状态数据的子目录
pg_replslot	包含复制槽数据的子目录
pg_serial	包含已提交的可序列化事务信息的子目录
pg_snapshots	包含导出的快照的子目录
pg_stat	包含用于统计子系统的永久文件的子目录
pg_stat_tmp	包含用于统计信息子系统的临时文件的子目录
pg_subtrans	包含子事务状态数据的子目录
pg_tblspc	包含指向表空间的符号链接的子目录
pg_twophase	包含用于预备事务状态文件的子目录
pg_wal	包含 WAL （预写日志）文件的子目录
pg_xact	包含事务提交状态数据的子目录
postgresql.auto.conf	一个用于存储由ALTER SYSTEM 设置的配置参数的文件
postmaster.opts	一个记录服务器最后一次启动时使用的命令行参数的文件
postmaster.pid	一个锁文件，记录着当前的 postmaster 进程ID（PID）、集簇数据目录路径、postmaster启动时间戳、端口号、Unix域套接字目录路径（Windows上为空）、第一个可用的listen_address（IP地址或者*，或者为空表示不在TCP上监听）以及共享内存段ID（服务器关闭后该文件不存在）
```

