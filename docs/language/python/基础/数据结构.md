# 数据结构

## 一、列表

### 1. 列表的特点

1. 任意类型的对象的位置相关的有序集合
2. 大小可变，可以修改
3. 支持任意嵌套

### 2. 列表操作

2.1 计算列表长度

```python
>>> l = ['Tom','Bob',123,['boy','girl']]
>>> len(l)
4
```

2.2 列表拼接

```python
>>> [1,2,3] + [4,5,6]
[1, 2, 3, 4, 5, 6]
```

2.3 列表重复

```python
>>> ['hello'] * 3
['hello', 'hello', 'hello']
```

### 3. 列表索引

```python
>>> l[-1] # 负索引
['boy', 'girl']
>>> l[2]  # 正索引
123
>>> l[3][1] # 两次索引
'girl'
```

### 4. 列表切片

```python
>>> l[:]
['Tom', 'Bob', 123, ['boy', 'girl']]
>>> l[1:3]
['Bob', 123]
>>> l[-2:-1]
[123]
>>> l[-2:]
[123, ['boy', 'girl']]
```

### 5. 列表方法

#### 5.1 添加

```python
# 在尾部插入一项
>>> l = ['刘备','关羽','张飞']
>>> l.append('诸葛亮')
>>> l
['刘备', '关羽', '张飞', '诸葛亮']
# 把一个列表添加到另一个列表末尾
>>> L1 = ['刘备','关羽','张飞']
>>> L2 = ['姜维','诸葛亮']
>>> L1.extend(L2)
>>> L1
['刘备', '关羽', '张飞', '姜维', '诸葛亮']
# 在指定索引位置插入元素
>>> l
['刘备', '关羽', '张飞']
>>> l.insert(1,'马超')
>>> l
['刘备', '马超', '关羽', '张飞']
```

#### 5.2 删除

```python
# 删除所有元素
>>> l.clear()
>>> l
[]
# 根据索引删除元素并打印删除的元素
>>> l
['刘备', '马超', '关羽', '张飞']
>>> l.pop()    # 无参数删除最后一个
'张飞'
>>> l
['刘备', '马超', '关羽']
>>> l.pop(1)
'马超'
>>> l
['刘备', '关羽']
# 删除指定元素
>>> l = ['刘备','关羽','张飞']
>>> l.remove("关羽")
>>> l
['刘备', '张飞']
# 使用del语句删除指定元素
>>> l = ['刘备','关羽','张飞']
>>> del l[1]
>>> l
['刘备', '张飞']
```

#### 5.3.拷贝

```python
>>> l1 = l.copy()
>>> l1
['刘备', '关羽', '张飞']
```

#### 5.4 查找

```python
# 统计某个元素出现的次数
>>> l.count('关羽')
# 查找[a,b)之间某元素的索引值
>>> L1
['刘备', '关羽', '张飞', '姜维', '诸葛亮']
>>> L1.index('关羽')
>>> L1.index('关羽',2,4)
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
ValueError: '关羽' is not in list
```

#### 5.4 排序

```python
# 倒序
>>> l = ['b','B','a','h']
>>> l.reverse()
>>> l
['h', 'a', 'B', 'b']
# 升序
>>> l.sort()
>>> l
['B', 'a', 'b', 'h']
# 降序
>>> l.sort(reverse=True)
>>> l
['h', 'b', 'a', 'B']
```

## 二、元组

### 1. 元组的特点

1. 不可变性
2. 支持嵌套

### 2. 元组操作

2.1 计算元组长度

```python
>>> t = (1,2)
>>> len(t)
2
```

2.2 列表拼接

```python
>>> (1,2)+(3,4)
(1, 2, 3, 4)
```

2.3 列表重复

```python
>>> (1,2)*3
(1, 2, 1, 2, 1, 2)
```

### 3. 元组的方法

```python
>>> t.count(1)
1
>>> t.index(1)
0
```

元组的特殊语法

定义只有一个元素的元组

```python
x = (40,)
```

## 三、字典

### 1. 字典的特点

1. 通过键来存储
2. 无序的集合
3. 可以改变
4. 通过散列表实现

### 2. 字典的创建

```python
>>> d = {'name':'Tom','job':'IT'}
>>> d
{'job': 'IT', 'name': 'Tom'}
>>> d['age'] = 18
>>> d['sex'] = 'boy'
>>> d
{'job': 'IT', 'sex': 'boy', 'name': 'Tom', 'age': 18}
```

### 3. 字典索引

```python
>>> d = {'name':'Tom','job':'IT'}
>>> d
{'name': 'Tom', 'job': 'IT'}
>>> d['name']
'Tom'
```

### 4. 键的排序

```python
>>> d.keys()
dict_keys(['name', 'job'])
>>> list(d.keys())
['name', 'job']
>>> Ks = list(d.keys())
>>> Ks.sort()
>>> for k in Ks:
... print(k,'-->',d[k])
...
job --> IT
name --> Tom
```

### 5. 判断一个键是否存在

```python
>>> d
{'name': 'Tom', 'job': 'IT'}
# 判断一个键是否存在
>>> 'name' in d
True
```

### 6. 字典的方法

6.1 删除

```python
# 清空字典 clear
>>> d = {'name': 'Tom', 'job': 'IT'}
>>> d.clear()
>>> d
{}

# 删除指定键 pop
>>> d.pop('sex','not find')
'not find'
>>> d.pop('name')
'Tom'
# 随机删除键值对，字典为空时报错
>>> d.popitem()
('job', 'IT')
>>> d.popitem()
('name', 'Tom')
>>>
>>> d.popitem()
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
KeyError: 'popitem(): dictionary is empty'
```

6.2 拷贝

```python
>>> d = {'name': 'Tom', 'job': 'IT'}
>>> D = d.copy()
>>> D
{'name': 'Tom', 'job': 'IT'}
```

6.3 创建

```python
>>> l = ['name', 'age']
>>> d = {}
>>> d.fromkeys(l,'abc')
{'age': 'abc', 'name': 'abc'}
# 如果键不存在添加一个，如果存在不做更改
>>> d.setdefault('sex','boy') 
'boy'
>>> d
{'job': 'IT', 'sex': 'boy', 'name': 'Tom'}
>>> d.setdefault('sex','girl')
'boy'
>>> d
{'job': 'IT', 'sex': 'boy', 'name': 'Tom'}
# 合并字典，把一个字典加到另一个字典
>>> d1 = {'name': 'Tom', 'job': 'IT'}
>>> d2 = {'sex':'boy'}
>>> d1.update(d2)
>>> d1
{'job': 'IT', 'sex': 'boy', 'name': 'Tom'}
```

6.4 查找

```python
# 根据键查找值
>>> d = {'name': 'Tom', 'job': 'IT'}
>>> d.get('name')
'Tom'
>>> d.get('sex','not find')
'not find'
```

6.5 遍历字典

```python
>>> d.items()
dict_items([('job', 'IT'), ('name', 'Tom')])
>>> for k,v in d.items():
... print(k,v)
...
job IT
name Tom
>>> for k in d.items():
... print(k)
...
('job', 'IT')
('name', 'Tom')
```

## 四、集合

### 1. 集合的特点

1. 无序
2. 唯一
3. 不可变 集合中的元素不可变

### 2. 集合的作用

1. 列表去重
2. 关系测试：交集、并集、差集

### 3. 集合创建

```python
set1 = set({1,3,5}) # 第一种方法
set2 = {1,3,5}  # 第二种方法
set3 = set() # 空集合
```

### 4. 集合操作

#### 4.1 增

```python
>>> set1 = set({1,3,5})
>>> set1.add(7)
>>> set1
{1, 3, 5, 7}
# 迭代增加
>>> set1.update('abc')
>>> set1
{1, 3, 5, 7, 'a', 'b', 'c'}
```

#### 4.1 删除

```python
# 按照元素删除
>>> set1.remove('c')
>>> set1
{1, 3, 5, 7, 'a', 'b'}
# 随机删除
>>> set1.pop()
1
# 情况列表
>>> set1.clear()
>>> set1
set()
```

### 5. 关系测试

#### 5.1 交集

```python
>>> set1 = {1,3,5,7,8}
>>> set2 = {2,3,6,7,8}
>>> set1 & set2
{8, 3, 7}
>>> set1.intersection(set2)
{8, 3, 7}
```

#### 5.2 并集

```python
>>> set1 = {1,3,5,7,8}
>>> set2 = {2,3,6,7,8}
>>> set1 | set2
{1, 2, 3, 5, 6, 7, 8}
>>> set1.union(set2)
{1, 2, 3, 5, 6, 7, 8}
```

#### 5.3 差集

```python
>>> set1 = {1,3,5,7,8}
>>> set2 = {2,3,6,7,8}
>>> set1 - set2
{1, 5}
>>> set1.difference(set2)
{1, 5}
```

#### 5.4 反交集

```python
>>> set1 ^ set2
{1, 2, 5, 6}
>>> set1.symmetric_difference(set2)
{1, 2, 5, 6}
```

#### 5.5 子集与超集

```python
>>> set1 = {1,2}
>>> set2 = {1,2,3}
>>> set1 < set2
True
>>> set1 > set2
False
>>> set1.issubset(set2)
True
>>> set1.issuperset(set2)
False
```
